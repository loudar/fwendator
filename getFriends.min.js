async function E(){return console.log("⚙️ Intializing..."),(webpackChunkdiscord_app.push([[""],{},(b)=>{x=[];for(let k in b.c)x.push(b.c[k])}]),x).find((b)=>b?.exports?.default?.getToken!==void 0).exports.default.getToken()}async function B(b,k){return await fetch(b,{headers:{Authorization:k}}).then((q)=>q.json()).then((q)=>{return q})}async function F(b){return console.log("✉️ Fetching friends..."),Object.values(await B("https://discord.com/api/v9/users/@me/relationships",b)).map((k)=>k.user)}var G=(b)=>new Promise((k)=>setTimeout(k,b));async function H(b,k){[fp,x,s]=[{},Math.floor(b.length%3600/60),Math.floor(b.length%60)],console.log(`⏱ This will take about ${(x>0?x+(x===1?" minute and ":" minutes and "):"")+(s>0?s+(s===1?" second":" seconds"):"")}`);for(let q in b){let z=b[q].id,A=b[q].avatar,C=A?`https://cdn.discordapp.com/avatars/${z}/${A}.webp?size=128`:"";fp[z]={name:`${b[q].username}#${b[q].discriminator}`,avatarUrl:C,mutual:Object.values(await B(`https://discord.com/api/v9/users/${z}/relationships`,k)).map((D)=>D.id)},console.log(`\uD83D\uDCC3 Parsing friends... [${parseInt(q)+1}/${b.length}]`),await G(1000)}return fp}function I(b){document.head.innerHTML="",document.body.innerHTML="",document.body.appendChild(Object.assign(document.createElement("h1"),{innerHTML:"Your friends data ✨"})),document.body.appendChild(Object.assign(document.createElement("textarea"),{value:JSON.stringify(b),readOnly:!0,style:"width: 100%; height: 400px;"})),document.body.appendChild(Object.assign(document.createElement("button"),{innerHTML:"\uD83D\uDCC4 Download data",onclick:function(){url=URL.createObjectURL(new Blob([JSON.stringify(b)],{type:"application/json"})),Object.assign(document.createElement("a"),{href:url,download:`friends-${new Date().toISOString().replace(/[:T]/g,"-").slice(0,19).replaceAll("-","")}.json`}).click(),URL.revokeObjectURL(url)}}))}async function x(){if(window.location.host==="discord.com"){var b=await E(),k=await F(b),q=await H(k,b);I(q),console.log("✨ Done")}else alert("Not in discord website !")}x();
